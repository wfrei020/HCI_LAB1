<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script defer src="https://use.fontawesome.com/releases/v5.0.12/js/all.js" integrity="sha384-Voup2lBiiyZYkRto2XWqbzxHXwzcm4A5RfdfG6466bu5LqjwwrjXCMBQBLMWh7qR" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="styles/style.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <div class="header">
        <div>
            <h1>Human Computer Interaction</h1>
        </div>
    </div>
    <div class="body">
        <div class="gettingStartedContainer" style="display:None;">
            <div class="welcomeContainer">
                <strong>Welcome To Our Experiment</strong>
            </div>
            <div class="experimentMessage">
                <p>We have implemented an experiment to identify the reaction times of different user.</p>
                <p>The test is simple, all you are require to do is match the correct color to the color show</p>
                <p>When you are ready please press start</p>
            </div>
            <div>
                <button id="startTest">Start Test</button>
            </div>
        </div>
        <div class="experimentContainer" style="display:None;">
            <div class="vertical_flex">
                <div class="givenColor vertical_item">
                </div>
                <div class="vertical_item">
                    <div class="flex">
                        <div class="buttonChoiceItem option1"><span>button 1</span></div>
                        <div class="buttonChoiceItem option2"><span>button 2</span></div>
                        <div class="buttonChoiceItem option3"><span>button 3</span></div>
                        <div class="buttonChoiceItem option4"><span>button 4</span></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="resultsContainer" style="display:None;">

        </div>
    </div>
    <div class="footer">

    </div>
</body>
<script language="JavaScript">
$(function() {
    var colorList = ["red", "green","blue","yellow","brown","purple","orange","pink"]
    var userAnswers = []

    var NUMBER_OF_TESTS = 20

    function downloadObjectAsJson(exportObj, exportName){
        var dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(exportObj));
        var downloadAnchorNode = document.createElement('a');
        downloadAnchorNode.setAttribute("href",     dataStr);
        downloadAnchorNode.setAttribute("download", exportName + ".txt");
        document.body.appendChild(downloadAnchorNode); // required for firefox
        downloadAnchorNode.click();
        downloadAnchorNode.remove();
      }

      function getRandomNumber(max){
        return  Math.floor(Math.random()*max)
      }
      function getUniqueRandomColor(){
        var randomColor = []
        i=0
        while (i<4){
          tempColor = getRandomNumber(colorList.length)
          if(!randomColor.includes(tempColor)){
            randomColor[i] = tempColor;
            i++;
          }
        }
        return randomColor
      }

      function nextTest(){
          randomInt = getUniqueRandomColor();
          console.log(randomInt)
          randomNUM= getRandomNumber(4)+1
          $(".givenColor").css("background-color",colorList[randomInt[0]]);
          $(".option"+randomNUM).html("<span>"+colorList[randomInt[0]] +"</span>")
      }



      function getTestResults(){

      }

      function beginTest(){
          //initialize all arrays and their randomnes
          if(userAnswers.length != 0 )
            userAnswers = []

          nextTest();
      }

      $(".buttonChoiceItem").click(function(elem){
        nextTest();

      })

      $("#startTest").click(function(){
        $(".gettingStartedContainer").hide();
        $(".experimentContainer").show();
        beginTest();
      })

      function init(){
          $(".gettingStartedContainer").show();

      }

      init();

 console.log( "ready!" );
});
  </script>
</html>
